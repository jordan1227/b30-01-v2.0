;**************************************************
;*************** ESCAPE SOLDIER *******************
;**************************************************

;soldier1
[logic@amk_embankment_soldier1]
active = walker@amk_embankment_soldier1
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[walker@amk_embankment_soldier1]
path_walk = soldat1_walk
combat_ignore_cond = {-esc_bridge_pass_fire =dist_to_enemy_ge(50) =fighting_actor}

[logic@amk_embankment_sleeper1]
active = sleeper@amk_embankment_sleeper1
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[sleeper@amk_embankment_sleeper1]
path_main = soldat1_sleeper
combat_ignore_cond = {-esc_bridge_pass_fire =fighting_actor}
wakeable = false

;soldier2
[logic@amk_embankment_soldier2]
active = walker@amk_embankment_soldier2
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[walker@amk_embankment_soldier2]
path_walk = soldat2_walk
combat_ignore_cond = {-esc_bridge_pass_fire =dist_to_enemy_ge(50) =fighting_actor}

[logic@amk_embankment_sleeper2]
active = sleeper@amk_embankment_sleeper2
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[sleeper@amk_embankment_sleeper2]
path_main = soldat2_sleeper
combat_ignore_cond = {-esc_bridge_pass_fire =fighting_actor}
wakeable = false

;soldier3
[logic@amk_embankment_soldier3]
active = walker@amk_embankment_soldier3
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[walker@amk_embankment_soldier3]
path_walk = soldat3_walk
combat_ignore_cond = {-esc_bridge_pass_fire =dist_to_enemy_ge(50) =fighting_actor}

[logic@amk_embankment_sleeper3]
active = sleeper@amk_embankment_sleeper3
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[sleeper@amk_embankment_sleeper3]
path_main = soldat3_sleeper
combat_ignore_cond = {-esc_bridge_pass_fire =fighting_actor}
wakeable = false

;soldier4
[logic@amk_embankment_soldier4]
active = walker@amk_embankment_soldier4
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[walker@amk_embankment_soldier4]
path_walk = soldat4_walk
combat_ignore_cond = {-esc_bridge_pass_fire =dist_to_enemy_ge(50) =fighting_actor}

[logic@amk_embankment_sleeper4]
active = sleeper@amk_embankment_sleeper4
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[sleeper@amk_embankment_sleeper4]
path_main = soldat4_sleeper
combat_ignore_cond = {-esc_bridge_pass_fire =fighting_actor}
wakeable = false

;soldier5
[logic@amk_embankment_soldier5]
active = camper@amk_embankment_soldier5
combat_ignore = combat_ignore@embankment_soldier
on_hit = hit@embankment_soldier
on_death = death@embankment_soldier

[camper@amk_embankment_soldier5]
sniper = true
path_walk = soldat5_walk
path_look = soldat5_look
combat_ignore_cond = {-esc_bridge_pass_fire =dist_to_enemy_ge(50) =fighting_actor}

;other
[hit@embankment_soldier]
on_info = {=hit_by_actor} %+esc_bridge_pass_fire%

[death@embankment_soldier]
on_info = {=killed_by_actor} %+esc_bridge_pass_fire%

[combat_ignore@embankment_soldier]
combat_ignore_cond = {-esc_bridge_pass_fire =dist_to_enemy_ge(50) =fighting_actor}


;**************************************************
;************* GARBAGE MINI-BAR *****************
;**************************************************

;kulinar
[logic@amk_mini_bar_kulinar]
active = walker@amk_mini_bar_kulinar
trade = misc\amk_trader\trade_artem.ltx
combat_ignore = combat_ignore@amk_mini_bar_kulinar

[walker@amk_mini_bar_kulinar]
path_walk = kulinar_walk
path_look = kulinar_look
combat_ignore_cond = {=dist_to_enemy_ge(15)}
danger = danger_condition@amk_mini_bar

[combat_ignore@amk_mini_bar_kulinar]
combat_ignore_cond = {=dist_to_enemy_ge(15)}

;voron
[logic@amk_mini_bar_voron]
active=walker@amk_mini_bar_voron
trade = misc\amk_trader\trade_voron.ltx

[walker@amk_mini_bar_voron]
path_walk = voron_walk
path_look = voron_look

;stalker1
[logic@amk_mini_bar_stalker1]
active=walker@amk_mini_bar_stalker1

[walker@amk_mini_bar_stalker1]
path_walk = stalker1_walk
danger = danger_condition@amk_mini_bar

;stalker2
[logic@amk_mini_bar_stalker2]
active=walker@amk_mini_bar_stalker2

[walker@amk_mini_bar_stalker2]
path_walk = stalker2_walk
danger = danger_condition@amk_mini_bar

;stalker3
[logic@amk_mini_bar_stalker3]
active=walker@amk_mini_bar_stalker3

[walker@amk_mini_bar_stalker3]
path_walk = stalker3_walk
danger = danger_condition@amk_mini_bar

;stalker4
[logic@amk_mini_bar_stalker4]
active=walker@amk_mini_bar_stalker4

[walker@amk_mini_bar_stalker4]
path_walk = stalker4_walk
danger = danger_condition@amk_mini_bar

;stalker5
[logic@amk_mini_bar_stalker5]
active=walker@amk_mini_bar_stalker5

[walker@amk_mini_bar_stalker5]
path_walk = stalker5_walk
danger = danger_condition@amk_mini_bar

;stalker6
[logic@amk_mini_bar_stalker6]
active=walker@amk_mini_bar_stalker6

[walker@amk_mini_bar_stalker6]
path_walk = stalker6_walk
danger = danger_condition@amk_mini_bar

;stalker7
[logic@amk_mini_bar_stalker7]
active=walker@amk_mini_bar_stalker7

[walker@amk_mini_bar_stalker7]
path_walk = stalker7_walk
danger = danger_condition@amk_mini_bar

;stalker8
[logic@amk_mini_bar_stalker8]
active=walker@amk_mini_bar_stalker8

[walker@amk_mini_bar_stalker8]
path_walk = stalker8_walk
danger = danger_condition@amk_mini_bar

;stalker9
[logic@amk_mini_bar_stalker9]
active = walker@amk_mini_bar_stalker9

[walker@amk_mini_bar_stalker9]
path_walk = stalker9_walk
path_look = stalker9_look
danger = danger_condition@amk_mini_bar

;stalker10
[logic@amk_mini_bar_stalker10]
active = walker@amk_mini_bar_stalker10

[walker@amk_mini_bar_stalker10]
path_walk = stalker10_walk
path_look = stalker10_look
danger = danger_condition@amk_mini_bar

;stalker11
[logic@amk_mini_bar_stalker11]
active = walker@amk_mini_bar_stalker11

[walker@amk_mini_bar_stalker11]
path_walk = stalker11_walk
path_look = stalker11_look
danger = danger_condition@amk_mini_bar

;stalker_kamp1
[logic@amk_mini_bar_stalker1_kamp]
active = kamp@amk_mini_bar_stalker1_kamp

[kamp@amk_mini_bar_stalker1_kamp]
center_point = stalker1_kamp 
danger = danger_condition@amk_mini_bar

[logic@amk_mini_bar_stalker2_kamp]
active = kamp@amk_mini_bar_stalker2_kamp

[kamp@amk_mini_bar_stalker2_kamp]
center_point = stalker2_kamp 
danger = danger_condition@amk_mini_bar

[logic@amk_mini_bar_stalker3_kamp]
active = kamp@amk_mini_bar_stalker3_kamp

[kamp@amk_mini_bar_stalker3_kamp]
center_point = stalker3_kamp 
danger = danger_condition@amk_mini_bar

[danger_condition@amk_mini_bar]
ignore_distance_sound = 15
ignore_distance = 5

[logic@x16_burer_dom]
active = mob_home@x16_burer_dom

[mob_home@x16_burer_dom]
path_home = home_1
home_min_radius = 10
home_max_radius = 20
aggressive_home
on_signal = sig_attacked | mob_combat@x16_burer_dom
on_timer = 23000 | mob_combat@x16_burer_dom %=bar_arena_hit%

[mob_combat@x16_burer_dom]
on_timer = 21000 | mob_home@x16_burer_dom