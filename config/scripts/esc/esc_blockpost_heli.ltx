[logic]
active = heli_move@idle

[heli_move@idle]
path_move = heli_blockpost_idle_move
engine_sound = false
on_info = {+esc_btr_killed +esc_blockpost_alarm} heli_move@fly1, {+esc_bridge_pass_fire} heli_move@fly1
combat_safe_altitude = -50

[heli_move@fly1]
path_move = heli_blockpost_idle_move
engine_sound = false
combat_safe_altitude = -50
on_timer = 50000 | heli_move@fly

[heli_move@fly]
path_move = heli_blockpost_fly
engine_sound = true
combat_enemy = actor
combat_use_rocket = true
combat_use_mgun = true
rocket_delay = 3000
combat_safe_altitude = -70
on_timer = 1 | %=heli_func.heli_enemy_actor%
on_timer2 = 120000 | heli_move@retreat

[heli_move@retreat]
path_move = heli_blockpost_idle_move
engine_sound = true
combat_use_rocket = false
combat_use_mgun = false
combat_safe_altitude = -50
on_timer = 120000 | heli_move@stop

[heli_move@stop]
path_move = heli_blockpost_idle_move
engine_sound = false
