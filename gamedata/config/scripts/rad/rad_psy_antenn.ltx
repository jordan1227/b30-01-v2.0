[logic]
active = sr_idle

[sr_idle]
on_actor_inside = {-bar_deactivate_radar_done} sr_psy_antenna@no_helmet, {+radar_on =actor_make_good_psy} sr_psy_antenna@good_helmet, {+radar_on !actor_make_good_psy} sr_psy_antenna@no_helmet 

[sr_psy_antenna@no_helmet]
eff_intensity = 100
hit_intensity = 100
phantom_prob = 40
min_phantom_idle = 3000
max_phantom_idle = 5000
on_info = {=actor_make_good_psy} sr_psy_antenna@good_helmet
on_info2 = {=psy_antenna_good_time} sr_psy_antenna@good_helmet, {=psy_antenna_bad_time} sr_psy_antenna@bad_helmet
on_info3 = {=actor_has_psy_outfit} sr_psy_antenna@bad_helmet2 %=sak.rad_outfit_in_tip()%
on_info4 = {+bar_deactivate_radar_done -radar_on} sr_idle2
on_actor_outside = {=actor_has_psy_outfit} sr_idle %=sak.rad_outfit_out_tip()%, sr_idle

[sr_psy_antenna@no_helmet2]
eff_intensity = 100
hit_intensity = 100
phantom_prob = 40
min_phantom_idle = 3000
max_phantom_idle = 5000
on_info = {=psy_antenna_good_time} sr_psy_antenna@good_helmet, {=psy_antenna_bad_time} sr_psy_antenna@bad_helmet
on_info2 = {+bar_deactivate_radar_done -radar_on} sr_idle2
on_actor_outside = {=actor_has_psy_outfit} sr_idle %=sak.rad_outfit_out_tip()%, sr_idle

[sr_psy_antenna@bad_helmet]
eff_intensity = 100
hit_intensity = 10
phantom_prob = 30
min_phantom_idle = 3000
max_phantom_idle = 5000
on_info = {=psy_antenna_good_time} sr_psy_antenna@good_helmet, {=psy_antenna_bad_time}, sr_psy_antenna@no_helmet
on_info2 = {+bar_deactivate_radar_done -radar_on} sr_idle2
on_actor_outside = {=actor_has_psy_outfit} sr_idle %=sak.rad_outfit_out_tip()%, sr_idle


[sr_psy_antenna@bad_helmet2]
eff_intensity = 100
hit_intensity = 1
phantom_prob = 20
min_phantom_idle = 3000
max_phantom_idle = 5000
on_info = {=actor_has_psy_outfit}, {=psy_antenna_good_time} sr_psy_antenna@good_helmet, {=psy_antenna_bad_time}, sr_psy_antenna@no_helmet
on_info2 = {!actor_has_psy_outfit} sr_psy_antenna@no_helmet2
on_info3 = {+bar_deactivate_radar_done -radar_on} sr_idle2
on_game_timer = 2000| sr_psy_antenna@no_helmet2
on_actor_outside = {=actor_has_psy_outfit} sr_idle %=sak.rad_outfit_out_tip()%, sr_idle


[sr_psy_antenna@good_helmet]
eff_intensity = 100
hit_intensity = 1
phantom_prob = 20
min_phantom_idle = 3000
max_phantom_idle = 5000
on_info = {=actor_make_good_psy}, {=psy_antenna_good_time}, {=psy_antenna_bad_time} sr_psy_antenna@bad_helmet, sr_psy_antenna@no_helmet
on_info2 = {+bar_deactivate_radar_done -radar_on} sr_idle2
on_actor_outside = {=actor_has_psy_outfit() !actor_make_good_psy} sr_idle %=sak.rad_outfit_out_tip()%, sr_idle

[sr_idle2]
on_info = {+radar_on} sr_idle